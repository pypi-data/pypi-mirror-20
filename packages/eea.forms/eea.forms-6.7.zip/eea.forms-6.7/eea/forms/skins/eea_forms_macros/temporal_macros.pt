<tal:temporalCoverage metal:define-macro="temporal-coverage">
    <tal:render tal:define="value context/@@formatTempCoverage;
                            temporalCoverage python:value.split(',');
                            portal_state context/@@plone_portal_state;
                            portal_url portal_state/portal_url;"
                tal:condition="value">
        <div class="temporal-coverage" id="tempCoverage">
            <h3 class="temporal-coverage-title notoc" i18n:translate="" metal:define-slot="temporal-coverage-title">
                Temporal coverage
            </h3>
            
            <tal:temporal tal:repeat="temp temporalCoverage" tal:condition="python:value != '-1'">
              <span>
                <a class="link-category" rel="tag"
                   tal:attributes="href python:portal_url + '/@@search?Date=' + temp"
                   tal:content="temp"></a>
                <span class="separator" tal:condition="python:not repeat['temp'].end">,</span>
              </span>
            </tal:temporal>
            <span tal:condition="python:value == '-1'">
                <a i18n:translate="" class="link-category" rel="tag" href="#">
                    Dynamic
                </a>
            </span>
        </div>
    </tal:render>
</tal:temporalCoverage>

<tal:block metal:define-macro="temporal-coverage-data">
    <tal:parent metal:use-macro="context/temporal_macros/macros/temporal-coverage">

        <dt metal:fill-slot="temporal-coverage-title"
            tal:define="field python:context.getField('temporalCoverage')">
            <metal:basic use-macro="here/interface_elements_macros/macros/tooltip" />
            <span i18n:translate="">Temporal coverage:</span>
        </dt>

        <dd metal:fill-slot="temporal-coverage-body"
            tal:content="context/@@formatTempCoverage" id="tempCoverage">Body</dd>

    </tal:parent>
</tal:block>
