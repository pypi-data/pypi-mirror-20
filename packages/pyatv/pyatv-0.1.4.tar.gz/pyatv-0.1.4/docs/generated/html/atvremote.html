<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reference application: atvremote &#8212; pyatv 0.1.4 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developing pyatv" href="developing.html" />
    <link rel="prev" title="API" href="api.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="reference-application-atvremote">
<span id="pyatv-atvremote"></span><h1>Reference application: atvremote<a class="headerlink" href="#reference-application-atvremote" title="Permalink to this headline">¶</a></h1>
<p>To more easily test pyatv, the <code class="docutils literal"><span class="pre">atvremote</span></code> application can be used. It is
bundled with pyatv and supports all the functionality implemented by the library.
So it is also a good place to go to for inspiration when implementing your own
application.</p>
<div class="section" id="discovering-devices">
<h2>Discovering devices<a class="headerlink" href="#discovering-devices" title="Permalink to this headline">¶</a></h2>
<p>If you want to automatically discover devices on your network, use the scan
command:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ atvremote scan
Found Apple TVs:
- Apple TV at 10.0.10.22 (login id: 00000000-1234-5678-9abc-def012345678)
</pre></div>
</div>
<p>In case you have multiple devices, they should all show up. The discovery
process is performed for 3 seconds, which might be too short and sometimes
a device might not show up. Either just try again or raise the discover
time with the -t flag, e.g. <code class="docutils literal"><span class="pre">atvremote</span> <span class="pre">-t</span> <span class="pre">10</span> <span class="pre">scan</span></code>.</p>
<p>More details about the discovery process can be found
<a class="reference internal" href="finding_devices.html#pyatv-finding-devices"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="pairing-with-a-device">
<h2>Pairing with a device<a class="headerlink" href="#pairing-with-a-device" title="Permalink to this headline">¶</a></h2>
<p>To pair with a device, use the <code class="docutils literal"><span class="pre">pair</span></code> command. By default, it will wait
one minute for the pairing process to complete. The remote control will be
announced with name <em>pyatv</em> and PIN code to be used is 1234:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ atvremote pair
Use pin 1234 to pair with &quot;pyatv&quot; (waiting for 60s)
After successful pairing, use login id 0x0000000000000001
Note: If remote does not show up, reboot you Apple TV
</pre></div>
</div>
<p>You can override all of the settings using <code class="docutils literal"><span class="pre">--remote-name</span></code>, <code class="docutils literal"><span class="pre">--pin</span></code> and
<code class="docutils literal"><span class="pre">--pairing-timeout</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is hardcoded into pyatv so that pairing guid <code class="docutils literal"><span class="pre">0x0000000000000001</span></code>
must always be used. So, if you have paired your device, just use that
as login id. It is important that you add <code class="docutils literal"><span class="pre">0x</span></code> in front of the guid!</p>
</div>
</div>
<div class="section" id="specifying-a-device">
<h2>Specifying a device<a class="headerlink" href="#specifying-a-device" title="Permalink to this headline">¶</a></h2>
<p>You have two choices:</p>
<ul class="simple">
<li>Use <code class="docutils literal"><span class="pre">-a</span></code> that will perform the auto discover process and pick the first
discovered device</li>
<li>Run <code class="docutils literal"><span class="pre">scan</span></code> yourself and manually specify IP-address and login id for device</li>
</ul>
<p>Using the first option is easiest but also the slowest (you have to wait
three seconds every time) and also works poorly with multiple devices.
You can try it out like this:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ atvremote -a &lt;command&gt;
</pre></div>
</div>
<p>To manually specify IP-address and login id, just do like this:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ atvremote --adress &lt;IP&gt; --login_id &lt;LOGIN ID&gt;
</pre></div>
</div>
<p>Using these methods are mutually exclusive, so you may only pick one.</p>
</div>
<div class="section" id="working-with-commands">
<h2>Working with commands<a class="headerlink" href="#working-with-commands" title="Permalink to this headline">¶</a></h2>
<p>Several commands are supported by the library (and thus the device). Easiest
is just to use the command called <code class="docutils literal"><span class="pre">commands</span></code>, as it will present a list of
availble commands:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ atvremote -a commands
Remote control commands:
 - next - Press key next
 - down - Press key down
 - previous - Press key previous
 - set_position - Seek in the current playing media
 - pause - Press key play
 - menu - Press key menu
 - up - Press key up
 - play_url - Play media from an URL on the device
 - select - Press key select
 - right - Press key right
 - top_menu - Go to main menu (long press menu)
 - play - Press key play
 - left - Press key left

Metadata commands:
 - playing - Return what is currently playing
 - artwork_url - Return artwork URL for what is currently playing (or None)
 - artwork - Return artwork for what is currently playing (or None)

Playing commands:
 - media_type - What type of media is currently playing, e.g. video, music
 - artist - Artist of the currently playing song
 - position - Current position in the playing media (seconds)
 - title - Title of the current media, e.g. movie or song name
 - album - Album of the currently playing song
 - play_state - Current play state, e.g. playing or paused
 - total_time - Total play time in seconds
</pre></div>
</div>
<p>You can for instance get what is currently playing with <code class="docutils literal"><span class="pre">playing</span></code>:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">atvremote</span> <span class="o">-</span><span class="n">a</span> <span class="n">playing</span>
<span class="n">album</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">artist</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">media_type</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">play_state</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">position</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">title</span><span class="p">:</span> <span class="kc">None</span>
<span class="n">total_time</span><span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Or seek in the currently playing media:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">atvremote</span> <span class="o">-</span><span class="n">a</span> <span class="n">set_position</span><span class="o">=</span><span class="mi">123</span>
</pre></div>
</div>
</div>
<div class="section" id="logging-and-debugging">
<h2>Logging and debugging<a class="headerlink" href="#logging-and-debugging" title="Permalink to this headline">¶</a></h2>
<p>You can enable additional debugging information by specifying either
<code class="docutils literal"><span class="pre">--verbose</span></code> or <code class="docutils literal"><span class="pre">--debug</span></code>. There are also some additional developer commands
that might be useful, if you also specify <code class="docutils literal"><span class="pre">--developer</span></code>. They will
show up if you query all available commands.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reference application: atvremote</a><ul>
<li><a class="reference internal" href="#discovering-devices">Discovering devices</a></li>
<li><a class="reference internal" href="#pairing-with-a-device">Pairing with a device</a></li>
<li><a class="reference internal" href="#specifying-a-device">Specifying a device</a></li>
<li><a class="reference internal" href="#working-with-commands">Working with commands</a></li>
<li><a class="reference internal" href="#logging-and-debugging">Logging and debugging</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="api.html" title="previous chapter">API</a></li>
      <li>Next: <a href="developing.html" title="next chapter">Developing pyatv</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/atvremote.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Pierre Ståhl.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/atvremote.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>