<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Gromacs topology file (ITP) parser &mdash; GromacsWrapper 0.6.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/GromacsWrapper_logo_32x32.ico"/>
    <link rel="top" title="GromacsWrapper 0.6.1 documentation" href="../../../index.html" />
    <link rel="up" title="gromacs.formats – Accessing various files" href="../formats.html" />
    <link rel="next" title="Gromacs Preprocessed Topology (top) Parser" href="top_parser.html" />
    <link rel="prev" title="Gromacs NDX index file format" href="ndx.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="top_parser.html" title="Gromacs Preprocessed Topology (top) Parser"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ndx.html" title="Gromacs NDX index file format"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">GromacsWrapper 0.6.1 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../../gromacs.html" >GromacsWrapper package</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../../core.html" >Gromacs core modules</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="../formats.html" accesskey="U"><code class="docutils literal"><span class="pre">gromacs.formats</span></code> &#8211; Accessing various files</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/GromacsWrapper_logo_200x200.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Gromacs topology file (ITP) parser</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#user-classes">User classes</a></li>
<li><a class="reference internal" href="#developer-reference">Developer reference</a><ul>
<li><a class="reference internal" href="#base-classes-and-utility-functions">Base classes and utility functions</a></li>
<li><a class="reference internal" href="#classes-corresponding-to-itp-sections">Classes corresponding to ITP sections</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ndx.html"
                        title="previous chapter">Gromacs NDX index file format</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="top_parser.html"
                        title="next chapter">Gromacs Preprocessed Topology (top) Parser</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/gromacs/core/fileformats/itp.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-gromacs.fileformats.itp"></span><div class="section" id="gromacs-topology-file-itp-parser">
<h1>Gromacs topology file (ITP) parser<a class="headerlink" href="#gromacs-topology-file-itp-parser" title="Permalink to this headline">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<p>Basic reading, manipulating and writing works but can still be a bit
awkward. See documentation for <a class="reference internal" href="#gromacs.fileformats.itp.ITP" title="gromacs.fileformats.itp.ITP"><code class="xref py py-class docutils literal"><span class="pre">ITP</span></code></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The code is still <em>experimental</em>.</p>
</div>
<p class="rubric">Limitations</p>
<ul class="simple">
<li>only one <code class="docutils literal"><span class="pre">[moleculetype]</span></code> at the moment (need to distinguish by molecule
name) or maybe subsequent ones overwrite previous ones &#8212; not tested so
better only use a single moleculetype (TODO)</li>
<li>merges multiple dihedral sections into one</li>
<li>probably fails for FEP itps (TODO)</li>
<li>does not reproduce positions of comment-only lines in sections
(in fact, currently we do not even write them out again, only trailing
line comments are kept and the header before the first section)</li>
<li>only simple preprocessor directives such as <code class="docutils literal"><span class="pre">#ifdef</span> <span class="pre">POSRES</span></code> are processed by
the <a class="reference internal" href="preprocessor.html#gromacs.fileformats.preprocessor.Preprocessor" title="gromacs.fileformats.preprocessor.Preprocessor"><code class="xref py py-class docutils literal"><span class="pre">Preprocessor</span></code></a>.  Preprocessor
directives are evaluated <em>and stripped</em> so that <a class="reference internal" href="#gromacs.fileformats.itp.ITP" title="gromacs.fileformats.itp.ITP"><code class="xref py py-class docutils literal"><span class="pre">ITP</span></code></a> represents one
functional itp file. The directives are not stored and cannot be written out
or accessed.</li>
</ul>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>An itp file can be loaded and individual sections accessed (print shows a
representation of what it would look like written to a file):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">itp</span> <span class="o">=</span> <span class="n">gromacs</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">ITP</span><span class="p">(</span><span class="s2">&quot;benzylhyd5.itp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">itp</span><span class="o">.</span><span class="n">header</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">itp</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">moleculetype</span>
<span class="go">[ moleculetype ]</span>
<span class="go">; Name      nrexcl</span>
<span class="go">5FH         3</span>
</pre></div>
</div>
<p>Each section is an object that contains the parsed data in a
<code class="xref py py-attr docutils literal"><span class="pre">data</span></code> attribute:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">itp</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">moleculetype</span><span class="o">.</span><span class="n">data</span>
<span class="go">odict([(&#39;name&#39;, &#39;5FH&#39;), (&#39;nrexcl&#39;, 3)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">itp</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">moleculetype</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
<span class="go">5FH</span>
</pre></div>
</div>
<p>The moleculetypes section contains the important subsections that make up the
topology:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">itp</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">moleculetype</span><span class="o">.</span><span class="n">sections</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;atoms&#39;, &#39;bonds&#39;, &#39;angles&#39;, &#39;dihedrals&#39;, &#39;pairs&#39;]</span>
</pre></div>
</div>
<p>They can be accessed in the same manner. For instance, counting all atom records:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">itp</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">moleculetype</span><span class="o">.</span><span class="n">atoms</span><span class="p">)</span>
<span class="go">24</span>
</pre></div>
</div>
<p>For the atoms, the <a class="reference internal" href="#gromacs.fileformats.itp.ITPdata.data" title="gromacs.fileformats.itp.ITPdata.data"><code class="xref py py-attr docutils literal"><span class="pre">data</span></code></a> structure is a <code class="xref py py-class docutils literal"><span class="pre">numpy.rec.recarray</span></code>.</p>
<p>Data can be modified and then finally a new itp file can be written with the
<a class="reference internal" href="#gromacs.fileformats.itp.ITP.write" title="gromacs.fileformats.itp.ITP.write"><code class="xref py py-meth docutils literal"><span class="pre">ITP.write()</span></code></a> method.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">itp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;modified.itp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="user-classes">
<h2>User classes<a class="headerlink" href="#user-classes" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#gromacs.fileformats.itp.ITP" title="gromacs.fileformats.itp.ITP"><code class="xref py py-class docutils literal"><span class="pre">ITP</span></code></a> class always represents one itp file. It contains a tree of
parsed subsections that correspond to the subsections in the itp file. The way
to drill down is to access the attribute <code class="xref py py-attr docutils literal"><span class="pre">ITP.sections</span></code>, where the
subsections are stored. <code class="xref py py-attr docutils literal"><span class="pre">ITP.sections</span></code> acts like a dictionary. Each
subsection contains again a <code class="xref py py-attr docutils literal"><span class="pre">ITPsection.sections</span></code> dictionary containing
its own subsections. To find the <code class="docutils literal"><span class="pre">[</span> <span class="pre">atoms</span> <span class="pre">]</span></code> data:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">itp</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;header&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;moleculetype&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;atoms&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<p>For convenience, one can also use the keys in the <code class="xref py py-attr docutils literal"><span class="pre">sections</span></code>
dictionary directly as attributes. In this way finding the <code class="docutils literal"><span class="pre">[</span> <span class="pre">atoms</span> <span class="pre">]</span></code> data
is even simpler:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">itp</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">moleculetype</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<p>For more details on the organization of the data structure see
<a class="reference internal" href="#correspondence-between-classes-and-sections"><span class="std std-ref">Classes corresponding to ITP sections</span></a>.</p>
<dl class="class">
<dt id="gromacs.fileformats.itp.ITP">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">ITP</code><span class="sig-paren">(</span><em>filename=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITP" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that represents a Gromacs topology itp file.</p>
<p>The file is processed by a
<a class="reference internal" href="preprocessor.html#gromacs.fileformats.preprocessor.Preprocessor" title="gromacs.fileformats.preprocessor.Preprocessor"><code class="xref py py-class docutils literal"><span class="pre">Preprocessor</span></code></a> according to
directves in the file and variables defined in the constructor keyword
arguments. Thus, the class <a class="reference internal" href="#gromacs.fileformats.itp.ITP" title="gromacs.fileformats.itp.ITP"><code class="xref py py-class docutils literal"><span class="pre">ITP</span></code></a> represents one particularly state
of the itp file with <em>any preprocessor constructs excluded</em>. Only a limited
set of directives is understood and a <code class="xref py py-exc docutils literal"><span class="pre">SyntaxError</span></code> is raised in cases
where the preprocessor does not know how to handle the file.</p>
<p>The file is parsed into a hierarchy of sections (and subsections), which
are accessible in the attribute <code class="xref py py-attr docutils literal"><span class="pre">ITP.sections</span></code>.</p>
<p>Data of (sub)sections is stored in <code class="xref py py-attr docutils literal"><span class="pre">data</span></code>, e.g. the <code class="docutils literal"><span class="pre">[atoms]</span></code>
section</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">itp</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;header&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;moleculetype&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;atoms&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
<p>contains the list of atoms for molecule</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">itp</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;header&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sections</span><span class="p">[</span><span class="s1">&#39;moleculetype&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Data attributes are typically (ordered) dictionaries or NumPy recarrays.</p>
<p>The top-level section is called <em>&#8220;header&#8221;</em> and simply contains all
comment lines before the first real parsed section.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Not all section types are implemented. There can only be a single type
of section at each level of the hierarchy.</p>
<p>Only a single <code class="docutils literal"><span class="pre">[moleculetype]</span></code> is currently supported.</p>
<p>Subsequent <code class="docutils literal"><span class="pre">[dihedrals]</span></code> sections are merged but if another section
intersperses two <code class="docutils literal"><span class="pre">[dihedral]</span></code> sections then the first one is lost.</p>
<p class="last">Comments are stripped except at the beginning of the file and at the end
of data lines.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.3.1: </span>Access to sections by attribute access is possible.</p>
</div>
<p>Initialize ITP structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><dl class="first last docutils">
<dt><em>filename</em></dt>
<dd><p class="first last">read from mdp file</p>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">#define</span></code> <em>VAR</em>  variables that are used at the pre-processing
stage of the itp file, e.g. <em>POSRES</em> <code class="docutils literal"><span class="pre">=</span> <span class="pre">True</span></code> will activate a
<code class="docutils literal"><span class="pre">#ifdef</span> <span class="pre">POSRES</span></code> section in the itp file.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="preprocessor.html#module-gromacs.fileformats.preprocessor" title="gromacs.fileformats.preprocessor"><code class="xref py py-mod docutils literal"><span class="pre">preprocessor</span></code></a> describes details about the
implementation of preprocessing of the itp file, including
the (limited) syntax understood by the preprocesser.</p>
</div>
<dl class="method">
<dt id="gromacs.fileformats.itp.ITP.contains_preprocessor_constructs">
<code class="descname">contains_preprocessor_constructs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITP.contains_preprocessor_constructs" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if file makes use of any preprocessor constructs.</p>
<p>The test is done by running the file through the
<a class="reference internal" href="preprocessor.html#gromacs.fileformats.preprocessor.Preprocessor" title="gromacs.fileformats.preprocessor.Preprocessor"><code class="xref py py-class docutils literal"><span class="pre">Preprocessor</span></code></a> (while
stripping all empty and lines starting with a comment character. This
is compared to the original file, stripped in the same manner. If the
two stripped files differ from each other then the preprocessor altered
the file and preprocessor directives must have been involved and this
function returns <code class="docutils literal"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.ITP.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>stream</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITP.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple recursive descent parsing of ITP.</p>
<p><em>stream</em> must have a <code class="docutils literal"><span class="pre">next()</span></code> and an <code class="docutils literal"><span class="pre">unread()</span></code> method. A
call must supply the next line of input or raise
<code class="xref py py-exc docutils literal"><span class="pre">EOFError</span></code> or <code class="xref py py-exc docutils literal"><span class="pre">StopIteration</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.ITP.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>filename=None</em>, <em>preprocess=True</em>, <em>**defines</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITP.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess, read and parse itp file <em>filename</em>.</p>
<p>Any keywords in <em>defines</em> are use to modify the default preprocessor
variables (see
<a class="reference internal" href="preprocessor.html#gromacs.fileformats.preprocessor.Preprocessor.parse" title="gromacs.fileformats.preprocessor.Preprocessor.parse"><code class="xref py py-meth docutils literal"><span class="pre">gromacs.fileformats.preprocessor.Preprocessor.parse()</span></code></a> for
details). Setting <em>preprocess</em> = <code class="docutils literal"><span class="pre">False</span></code> skips the preprocessing
step.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.ITP.walk_sections">
<code class="descname">walk_sections</code><span class="sig-paren">(</span><em>func=None</em>, <em>flat=True</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITP.walk_sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator that applies <em>func</em> to each section.</p>
<p>Traverses all sections depth first. Applies</p>
<dl class="function">
<dt id="gromacs.fileformats.itp.ITP.func">
<code class="descname">func</code><span class="sig-paren">(</span><em>name</em>, <em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITP.func" title="Permalink to this definition">¶</a></dt>
<dd><p>User supplied function that uses both the string <em>name</em> and
the <a class="reference internal" href="#gromacs.fileformats.itp.ITPsection" title="gromacs.fileformats.itp.ITPsection"><code class="xref py py-class docutils literal"><span class="pre">ITPsection</span></code></a> instance and returns a result. Note
that any lists and lists of lists will be flattened so it
mostly makes sense to return a string or similar.</p>
</dd></dl>

<p>at each level and iterates over the individual results. With
<em>flat</em> = <code class="docutils literal"><span class="pre">True</span></code> the resulting list is returned flat
(default), otherwise the list represents the tree structure of
the itp file.</p>
<p>By default, <em>func</em> is <code class="docutils literal"><span class="pre">str(section)</span></code>. Thus, the whole itp
file can be printed out with</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">itp</span><span class="o">.</span><span class="n">walk_sections</span><span class="p">())</span>
</pre></div>
</div>
<p>(See <a class="reference internal" href="#gromacs.fileformats.itp.ITP.write" title="gromacs.fileformats.itp.ITP.write"><code class="xref py py-meth docutils literal"><span class="pre">write()</span></code></a> for writing out the ITP.)</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.ITP.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITP.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write ITP file to <em>filename</em></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="developer-reference">
<h2>Developer reference<a class="headerlink" href="#developer-reference" title="Permalink to this headline">¶</a></h2>
<p>Class <a class="reference internal" href="#gromacs.fileformats.itp.ITP" title="gromacs.fileformats.itp.ITP"><code class="xref py py-class docutils literal"><span class="pre">ITP</span></code></a> makes use of the following classes to parse and
represent a topology as stored in an itp file.</p>
<div class="section" id="base-classes-and-utility-functions">
<h3>Base classes and utility functions<a class="headerlink" href="#base-classes-and-utility-functions" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="gromacs.fileformats.itp.ITPsection">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">ITPsection</code><span class="sig-paren">(</span><em>parent</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITPsection" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to parse and store ITP data.</p>
<ul>
<li><p class="first"><code class="xref py py-attr docutils literal"><span class="pre">data</span></code> contains the data of the section</p>
</li>
<li><p class="first"><code class="xref py py-attr docutils literal"><span class="pre">sections</span></code> holds the sub-parsers (including their own <code class="xref py py-attr docutils literal"><span class="pre">data</span></code>;
this <code class="xref py py-class docutils literal"><span class="pre">odict</span></code> mirrors the parse tree.</p>
<p>Note that sections at the same level are merged.</p>
</li>
<li><p class="first"><code class="xref py py-attr docutils literal"><span class="pre">parsers</span></code> contains a dict of the all the parser classes
(keyed by section name) that are included in <em>this</em> section;
typically overriden.</p>
</li>
</ul>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.3.1: </span>Access to sections by attribute access is possible.</p>
</div>
</div></blockquote>
<dl class="method">
<dt id="gromacs.fileformats.itp.ITPsection.walk_sections">
<code class="descname">walk_sections</code><span class="sig-paren">(</span><em>func=None</em>, <em>flat=True</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITPsection.walk_sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator that applies <em>func</em> to each section and subsections.</p>
<p>Traverses all sections depth first. Applies</p>
<dl class="function">
<dt id="gromacs.fileformats.itp.ITPsection.func">
<code class="descname">func</code><span class="sig-paren">(</span><em>name</em>, <em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITPsection.func" title="Permalink to this definition">¶</a></dt>
<dd><p>User supplied function that uses both the string <em>name</em> and
the <a class="reference internal" href="#gromacs.fileformats.itp.ITPsection" title="gromacs.fileformats.itp.ITPsection"><code class="xref py py-class docutils literal"><span class="pre">ITPsection</span></code></a> instance and returns a result. Note
that any lists and lists of lists will be flattened so it
mostly makes sense to return a string or similar.</p>
</dd></dl>

<p>at each level and iterates over the individual results. With
<em>flat</em> = <code class="docutils literal"><span class="pre">True</span></code> the resulting list is returned flat
(default), otherwise the list represents the tree structure of
the itp file.</p>
<p>By default, <em>func</em> is <code class="docutils literal"><span class="pre">str(section)</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.ITPdata">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">ITPdata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITPdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to represent most ITP sections.</p>
<ol class="arabic simple">
<li>parse line by line and store data and comments</li>
<li>format data as recarray; uses up columns from left to right</li>
<li>manipulate data in the recarray or write section with <a class="reference internal" href="#gromacs.fileformats.itp.ITPdata.section" title="gromacs.fileformats.itp.ITPdata.section"><code class="xref py py-meth docutils literal"><span class="pre">section()</span></code></a></li>
</ol>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<dl class="attribute">
<dt id="gromacs.fileformats.itp.ITPdata.data">
<code class="descname">data</code><a class="headerlink" href="#gromacs.fileformats.itp.ITPdata.data" title="Permalink to this definition">¶</a></dt>
<dd><p>atom data as a <code class="xref py py-class docutils literal"><span class="pre">numpy.rec.array</span></code></p>
<p>The data inside the array can be changed but not appended.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.ITPdata.section">
<code class="descname">section</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITPdata.section" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string of the section data in ITP format.</p>
<p>Data entries containing <code class="docutils literal"><span class="pre">None</span></code> are stripped from the output. In
accordance with Gromacs ITP parsing rules, data columns can only be
ommitted from the right.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.ITPdata.set_data">
<code class="descname">set_data</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.ITPdata.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>data is atom data, stored as <code class="xref py py-class docutils literal"><span class="pre">numpy.rec.arry</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.OneLineBuffer">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">OneLineBuffer</code><span class="sig-paren">(</span><em>getline</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.OneLineBuffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around anything with a <code class="docutils literal"><span class="pre">next()</span></code> method, to provide an <code class="docutils literal"><span class="pre">unread()</span></code>.</p>
<p>Provide the <code class="docutils literal"><span class="pre">next</span></code> method (or any other function that returns
one line of input) as the argument <em>getline</em>.</p>
<p>Implements a one-line buffer, <a class="reference internal" href="#gromacs.fileformats.itp.OneLineBuffer.unread" title="gromacs.fileformats.itp.OneLineBuffer.unread"><code class="xref py py-meth docutils literal"><span class="pre">unread()</span></code></a> can only move the
stream one line back (repeatedly calling <a class="reference internal" href="#gromacs.fileformats.itp.OneLineBuffer.unread" title="gromacs.fileformats.itp.OneLineBuffer.unread"><code class="xref py py-meth docutils literal"><span class="pre">unread()</span></code></a> does not
do anything).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<dl class="method">
<dt id="gromacs.fileformats.itp.OneLineBuffer.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.OneLineBuffer.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Return next line (or previous line if <a class="reference internal" href="#gromacs.fileformats.itp.OneLineBuffer.unread" title="gromacs.fileformats.itp.OneLineBuffer.unread"><code class="xref py py-meth docutils literal"><span class="pre">unread()</span></code></a> was called)</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.OneLineBuffer.unread">
<code class="descname">unread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.OneLineBuffer.unread" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset stream to previous line, so that next call to <a class="reference internal" href="#gromacs.fileformats.itp.OneLineBuffer.next" title="gromacs.fileformats.itp.OneLineBuffer.next"><code class="xref py py-meth docutils literal"><span class="pre">next()</span></code></a> rereads</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="gromacs.fileformats.itp.flatten">
<code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">flatten</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for flattening a nested list <em>l</em>.</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/2158395/flatten-an-irregular-list-of-lists-in-python">http://stackoverflow.com/questions/2158395/flatten-an-irregular-list-of-lists-in-python</a></p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="classes-corresponding-to-itp-sections">
<span id="correspondence-between-classes-and-sections"></span><h3>Classes corresponding to ITP sections<a class="headerlink" href="#classes-corresponding-to-itp-sections" title="Permalink to this headline">¶</a></h3>
<p>The ITP file is parsed with a simple recursive descending depth-first
algorithm. Classes contain a dictionary of sub-section parsers.</p>
<p>The section hierarchy is</p>
<ul>
<li><p class="first"><a class="reference internal" href="#gromacs.fileformats.itp.Header" title="gromacs.fileformats.itp.Header"><code class="xref py py-class docutils literal"><span class="pre">Header</span></code></a></p>
<ul>
<li><p class="first"><a class="reference internal" href="#gromacs.fileformats.itp.Atomtypes" title="gromacs.fileformats.itp.Atomtypes"><code class="xref py py-class docutils literal"><span class="pre">Atomtypes</span></code></a></p>
</li>
<li><p class="first"><a class="reference internal" href="#gromacs.fileformats.itp.Moleculetype" title="gromacs.fileformats.itp.Moleculetype"><code class="xref py py-class docutils literal"><span class="pre">Moleculetype</span></code></a> (Note: currently only a <em>single</em> moleculetype allowed)</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#gromacs.fileformats.itp.Atoms" title="gromacs.fileformats.itp.Atoms"><code class="xref py py-class docutils literal"><span class="pre">Atoms</span></code></a></li>
<li><a class="reference internal" href="#gromacs.fileformats.itp.Bonds" title="gromacs.fileformats.itp.Bonds"><code class="xref py py-class docutils literal"><span class="pre">Bonds</span></code></a></li>
<li><a class="reference internal" href="#gromacs.fileformats.itp.Angles" title="gromacs.fileformats.itp.Angles"><code class="xref py py-class docutils literal"><span class="pre">Angles</span></code></a></li>
<li><a class="reference internal" href="#gromacs.fileformats.itp.Dihedrals" title="gromacs.fileformats.itp.Dihedrals"><code class="xref py py-class docutils literal"><span class="pre">Dihedrals</span></code></a> (Note: multiple adjacent dihedral sections are
merged, for non-adjacent ones the last one overwrites earlier ones &#8212;
this is a bug)</li>
<li><a class="reference internal" href="#gromacs.fileformats.itp.Pairs" title="gromacs.fileformats.itp.Pairs"><code class="xref py py-class docutils literal"><span class="pre">Pairs</span></code></a></li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<dl class="class">
<dt id="gromacs.fileformats.itp.Header">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Header</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Header" title="Permalink to this definition">¶</a></dt>
<dd><p>The customary comments section before the first section.</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">itp</span> <span class="n">file</span> <span class="k">for</span> <span class="n">Benzene</span>
<span class="p">;</span> <span class="n">example</span> <span class="s2">&quot;header&quot;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Atomtypes">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Atomtypes</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Atomtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>ITP <code class="docutils literal"><span class="pre">[atomtypes]</span></code> section.</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">atomtypes</span> <span class="p">]</span>
<span class="p">;</span><span class="n">name</span>  <span class="n">bond_type</span>      <span class="n">mass</span>  <span class="n">charge</span> <span class="n">ptype</span>       <span class="n">sigma</span>     <span class="n">epsilon</span>
<span class="n">c3</span>            <span class="n">c3</span>    <span class="mf">0.0000</span>  <span class="mf">0.0000</span> <span class="n">A</span>     <span class="mf">3.39967e-01</span> <span class="mf">4.57730e-01</span>
<span class="n">hc</span>            <span class="n">hc</span>    <span class="mf">0.0000</span>  <span class="mf">0.0000</span> <span class="n">A</span>     <span class="mf">2.64953e-01</span> <span class="mf">6.56888e-02</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Moleculetype">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Moleculetype</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Moleculetype" title="Permalink to this definition">¶</a></dt>
<dd><p>ITP <code class="docutils literal"><span class="pre">[</span> <span class="pre">moleculetype</span> <span class="pre">]</span></code> section</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">moleculetype</span> <span class="p">]</span>
<span class="p">;</span> <span class="n">Name</span>      <span class="n">nrexcl</span>
<span class="mi">5</span><span class="n">FH</span>              <span class="mi">3</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<dl class="method">
<dt id="gromacs.fileformats.itp.Moleculetype.set_moleculename">
<code class="descname">set_moleculename</code><span class="sig-paren">(</span><em>molname</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Moleculetype.set_moleculename" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the molecule name to <em>molname</em>.</p>
<ol class="arabic simple">
<li>changes the name in <code class="docutils literal"><span class="pre">[moleculetype]</span></code> section</li>
<li>changes the resname in the whole <code class="docutils literal"><span class="pre">[atoms]</span></code> section</li>
</ol>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Atoms">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Atoms</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>ITP <code class="docutils literal"><span class="pre">[</span> <span class="pre">atoms</span> <span class="pre">]</span></code> section</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">atoms</span> <span class="p">]</span>
<span class="p">;</span> <span class="n">atomnr</span>  <span class="n">atomtype</span>   <span class="n">resnr</span>  <span class="n">resname</span>  <span class="n">atomname</span>  <span class="n">chargegrp</span>   <span class="n">charge</span>       <span class="n">mass</span>
       <span class="mi">1</span>  <span class="n">opls_145</span>       <span class="mi">1</span>      <span class="mi">5</span><span class="n">FH</span>        <span class="n">C7</span>          <span class="mi">7</span>   <span class="o">-</span><span class="mf">0.115</span>   <span class="mf">12.01100</span> <span class="p">;</span> <span class="n">CA</span> <span class="c1"># Benzene C - 12 site JACS,112,4768-90. Use #145B for biphenyl</span>
       <span class="mi">2</span>  <span class="n">opls_146</span>       <span class="mi">1</span>      <span class="mi">5</span><span class="n">FH</span>       <span class="n">H71</span>          <span class="mi">7</span>    <span class="mf">0.115</span>    <span class="mf">1.00800</span> <span class="p">;</span> <span class="n">HA</span> <span class="c1"># Benzene H - 12 site.</span>
</pre></div>
</div>
<p>The data itself are stored in <code class="xref py py-attr docutils literal"><span class="pre">data</span></code>, a <code class="xref py py-class docutils literal"><span class="pre">numpy.rec.array</span></code>.
<code class="xref py py-attr docutils literal"><span class="pre">data</span></code> is a managed attribute but the values inside can be
changed. Fields in the array have a maximum size (in particular, comments
are cut off after 128 characters).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<dl class="attribute">
<dt id="gromacs.fileformats.itp.Atoms.dtypes">
<code class="descname">dtypes</code><em class="property"> = [('atomnr', 'i4'), ('atomtype', 'S10'), ('resnr', 'i4'), ('resname', 'S4'), ('atomname', 'S4'), ('chargegrp', 'i4'), ('charge', 'f8'), ('mass', 'f8'), ('atomtypeB', 'S10'), ('chargeB', 'f8'), ('massB', 'f8')]</em><a class="headerlink" href="#gromacs.fileformats.itp.Atoms.dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> columns for the data</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.fileformats.itp.Atoms.fmt">
<code class="descname">fmt</code><em class="property"> = ['%8d', '%9s', '%7d', '%8s', '%9s', '%10d', '%8.3f', '%10.5f', '%9s', '%8.3f', '%10.5f']</em><a class="headerlink" href="#gromacs.fileformats.itp.Atoms.fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>output format (space separated), same ordering as <code class="xref py py-attr docutils literal"><span class="pre">columns</span></code></p>
</dd></dl>

<dl class="method">
<dt id="gromacs.fileformats.itp.Atoms.set_resname">
<code class="descname">set_resname</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Atoms.set_resname" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the resname to <em>name</em> for all atom entries</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Bonds">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Bonds</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Bonds" title="Permalink to this definition">¶</a></dt>
<dd><p>ITP <code class="docutils literal"><span class="pre">[</span> <span class="pre">bonds</span> <span class="pre">]</span></code> section</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">bonds</span> <span class="p">]</span>
<span class="p">;</span> <span class="n">ai</span>   <span class="n">aj</span>  <span class="n">funct</span>  <span class="n">r</span>  <span class="n">k</span>
  <span class="mi">1</span>    <span class="mi">2</span>      <span class="mi">1</span> <span class="p">;</span> <span class="n">CA</span><span class="o">-</span><span class="n">HA</span> <span class="c1"># PHE, etc.</span>
  <span class="mi">1</span>    <span class="mi">3</span>      <span class="mi">1</span> <span class="p">;</span> <span class="n">CA</span><span class="o">-</span><span class="n">CA</span> <span class="c1"># TRP,TYR,PHE</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<dl class="attribute">
<dt id="gromacs.fileformats.itp.Bonds.dtypes">
<code class="descname">dtypes</code><em class="property"> = [('ai', 'i4'), ('aj', 'i4'), ('func', 'i4'), ('b0', 'f8'), ('kb', 'f8')]</em><a class="headerlink" href="#gromacs.fileformats.itp.Bonds.dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> columns for the data</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.fileformats.itp.Bonds.fmt">
<code class="descname">fmt</code><em class="property"> = ['%4d', '%4d', '%6d', '%10.5f', '%10.1f']</em><a class="headerlink" href="#gromacs.fileformats.itp.Bonds.fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>output format (space separated), same ordering as <code class="xref py py-attr docutils literal"><span class="pre">columns</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Angles">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Angles</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Angles" title="Permalink to this definition">¶</a></dt>
<dd><p>ITP <code class="docutils literal"><span class="pre">[</span> <span class="pre">angles</span> <span class="pre">]</span></code> section</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">angles</span> <span class="p">]</span>
<span class="p">;</span> <span class="n">ai</span>   <span class="n">aj</span>   <span class="n">ak</span>  <span class="n">funct</span>  <span class="n">theta</span>   <span class="n">cth</span>
   <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">3</span>      <span class="mi">1</span> <span class="p">;</span> <span class="n">HA</span><span class="o">-</span><span class="n">CA</span><span class="o">-</span><span class="n">CA</span> <span class="c1">#</span>
   <span class="mi">2</span>    <span class="mi">1</span>   <span class="mi">11</span>      <span class="mi">1</span> <span class="p">;</span> <span class="n">HA</span><span class="o">-</span><span class="n">CA</span><span class="o">-</span><span class="n">CA</span> <span class="c1">#</span>
   <span class="mi">3</span>    <span class="mi">1</span>   <span class="mi">11</span>      <span class="mi">1</span> <span class="p">;</span> <span class="n">CA</span><span class="o">-</span><span class="n">CA</span><span class="o">-</span><span class="n">CA</span> <span class="c1"># PHE(OL)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<dl class="attribute">
<dt id="gromacs.fileformats.itp.Angles.dtypes">
<code class="descname">dtypes</code><em class="property"> = [('ai', 'i4'), ('aj', 'i4'), ('ak', 'i4'), ('func', 'i4'), ('theta0', 'f8'), ('cth', 'f8')]</em><a class="headerlink" href="#gromacs.fileformats.itp.Angles.dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> columns for the data</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.fileformats.itp.Angles.fmt">
<code class="descname">fmt</code><em class="property"> = ['%4d', '%4d', '%4d', '%6d', '%9.3f', '%10.3f']</em><a class="headerlink" href="#gromacs.fileformats.itp.Angles.fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>output format (space separated), same ordering as <code class="xref py py-attr docutils literal"><span class="pre">columns</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Dihedrals">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Dihedrals</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Dihedrals" title="Permalink to this definition">¶</a></dt>
<dd><p>ITP <code class="docutils literal"><span class="pre">[</span> <span class="pre">dihedrals</span> <span class="pre">]</span></code> section</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">dihedrals</span> <span class="p">]</span>
<span class="p">;</span> <span class="n">ai</span>   <span class="n">aj</span>   <span class="n">ak</span>   <span class="n">al</span>  <span class="n">funct</span>   <span class="n">C0</span>  <span class="o">...</span>  <span class="n">C5</span>
   <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">3</span>    <span class="mi">4</span>      <span class="mi">3</span> <span class="p">;</span> <span class="n">HA</span><span class="o">-</span><span class="n">CA</span><span class="o">-</span><span class="n">CA</span><span class="o">-</span><span class="n">HA</span> <span class="c1"># aromatic ring (X-CA-CA-X generic proper dihedral)</span>
   <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">3</span>    <span class="mi">5</span>      <span class="mi">3</span> <span class="p">;</span> <span class="n">HA</span><span class="o">-</span><span class="n">CA</span><span class="o">-</span><span class="n">CA</span><span class="o">-</span><span class="n">CA</span> <span class="c1"># aromatic ring (X-CA-CA-X generic proper dihedral)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Multiple <em>adjacent</em> dihedral sections are currently merged into a
single dihedral section. This means that if you separated proper
and improper dihedrals into two different sections then they will
now appear one after another under a single <code class="docutils literal"><span class="pre">[</span> <span class="pre">dihedrals</span> <span class="pre">]</span></code>
section. If two dihedral sections are separated by another
section then the last one overwrites the previous one.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
<dl class="attribute">
<dt id="gromacs.fileformats.itp.Dihedrals.dtypes">
<code class="descname">dtypes</code><em class="property"> = [('ai', 'i4'), ('aj', 'i4'), ('ak', 'i4'), ('al', 'i4'), ('func', 'i4'), ('c0', &lt;type 'object'&gt;), ('c1', &lt;type 'object'&gt;), ('c2', &lt;type 'object'&gt;), ('c3', &lt;type 'object'&gt;), ('c4', &lt;type 'object'&gt;), ('c5', &lt;type 'object'&gt;)]</em><a class="headerlink" href="#gromacs.fileformats.itp.Dihedrals.dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.11)"><code class="xref py py-class docutils literal"><span class="pre">numpy.dtype</span></code></a> columns for the data</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.fileformats.itp.Dihedrals.fmt">
<code class="descname">fmt</code><em class="property"> = ['%4d', '%4d', '%4d', '%4d', '%5d', '%9s', '%9s', '%9s', '%9s', '%9s', '%9s']</em><a class="headerlink" href="#gromacs.fileformats.itp.Dihedrals.fmt" title="Permalink to this definition">¶</a></dt>
<dd><p>output format (space separated), same ordering as <code class="xref py py-attr docutils literal"><span class="pre">columns</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Pairs">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Pairs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>ITP [ pairs ] section</p>
<p>Example format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="n">pairs</span> <span class="p">]</span>
<span class="p">;</span> <span class="n">ai</span>   <span class="n">aj</span>  <span class="n">funct</span>
   <span class="mi">1</span>    <span class="mi">6</span>      <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">7</span>      <span class="mi">1</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.5.</span></p>
</div>
</dd></dl>

<dl class="class">
<dt id="gromacs.fileformats.itp.Dummy">
<em class="property">class </em><code class="descclassname">gromacs.fileformats.itp.</code><code class="descname">Dummy</code><span class="sig-paren">(</span><em>parent</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gromacs.fileformats.itp.Dummy" title="Permalink to this definition">¶</a></dt>
<dd><p>Not implemented, just ignores everything</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="top_parser.html" title="Gromacs Preprocessed Topology (top) Parser"
             >next</a> |</li>
        <li class="right" >
          <a href="ndx.html" title="Gromacs NDX index file format"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">GromacsWrapper 0.6.1 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../../gromacs.html" >GromacsWrapper package</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../../core.html" >Gromacs core modules</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="../formats.html" ><code class="docutils literal"><span class="pre">gromacs.formats</span></code> &#8211; Accessing various files</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2009-2016, The Authors of GromacsWrapper (see AUTHORS).
      Last updated on Sep 16, 2016.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>