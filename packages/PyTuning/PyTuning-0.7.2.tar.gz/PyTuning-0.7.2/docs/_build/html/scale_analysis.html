

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Scale Analysis and Creation (Redux) &mdash; PyTuning 0.7.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyTuning 0.7.1 documentation" href="index.html"/>
        <link rel="next" title="Tuning Tables" href="tables.html"/>
        <link rel="prev" title="Metric Functions" href="metrics.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PyTuning
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="scales.html">Scale Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metric Functions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scale Analysis and Creation (Redux)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#mode-selection">Mode Selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#factoring-an-interval">Factoring an Interval</a></li>
<li class="toctree-l2"><a class="reference internal" href="#approximating-a-scale-with-another-scale">Approximating a Scale with Another Scale</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tables.html">Tuning Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="number_theory.html">Number Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive.html">Using PyTuning Interactively</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PyTuning</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Scale Analysis and Creation (Redux)</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/scale_analysis.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scale-analysis-and-creation-redux">
<h1>Scale Analysis and Creation (Redux)<a class="headerlink" href="#scale-analysis-and-creation-redux" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="scales.html"><span class="doc">Scale Creation</span></a> describes the way that many standard scales are generated
from within the package. But there are other ways to create scales.</p>
<div class="section" id="mode-selection">
<h2>Mode Selection<a class="headerlink" href="#mode-selection" title="Permalink to this headline">¶</a></h2>
<p>When one creates a scale &#8211; for example, the Pythagorean scale or a scale
of the Euler-Fokker Genera &#8211; one can looks at the various modes that
can be created for that scale and evaluate them by certain criteria.</p>
<p>The <code class="docutils literal"><span class="pre">find_best_modes()</span></code> function can be used for this. This function accepts
and input scale, the number of tones for the mode, and the optimization functions
that should be used for evaluating the scale.</p>
<p>As an example, one scale that&#8217;s I&#8217;ve used in compositions is created from choosing
a seven-note mode from a harmonic scale, optimized over the metric <code class="docutils literal"><span class="pre">sum_p_q_for_all_intervals()</span></code>.
This particular scale is based upon the harmonic series referenced to the fourth
harmonic.</p>
<p>The following code:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">harmonic_scale</span> <span class="o">=</span> <span class="n">create_harmonic_scale</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
<span class="n">modes</span> <span class="o">=</span> <span class="n">find_best_modes</span><span class="p">(</span><span class="n">harmonic_scale</span><span class="p">,</span>
                        <span class="n">num_tones</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                        <span class="n">sort_order</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sum_p_q_for_all_intervals&#39;</span><span class="p">],</span>
                        <span class="n">num_scales</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                        <span class="n">metric_function</span> <span class="o">=</span> <span class="n">sum_p_q_for_all_intervals</span><span class="p">)</span>
</pre></div>
</div>
<p>yields the following object:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
  <span class="s1">&#39;original_scale&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
   <span class="mi">17</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">9</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>
   <span class="mi">19</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">5</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span>
   <span class="mi">21</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">11</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>
   <span class="mi">23</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
   <span class="mi">25</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">13</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>
   <span class="mi">27</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">7</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span>
   <span class="mi">29</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">15</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>
   <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">21</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">15</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;steps&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
  <span class="s1">&#39;sum_p_q_for_all_intervals&#39;</span><span class="p">:</span> <span class="mi">572</span><span class="p">}]</span>
</pre></div>
</div>
<p>The returned scale:</p>
<div class="math">
<p><img src="_images/math/318a24c4813fa279afe47894151d68c3e8c7676a.png" alt="\left [ 1, \quad \frac{9}{8}, \quad \frac{5}{4},
\quad \frac{21}{16}, \quad \frac{3}{2},
\quad \frac{7}{4}, \quad \frac{15}{8}, \quad 2\right ]"/></p>
</div><p>minimizes the metric for all possible combinations of 7 notes chosen from
the original harmonic scale.</p>
<dl class="function">
<dt id="pytuning.scale_creation.find_best_modes">
<code class="descclassname">pytuning.scale_creation.</code><code class="descname">find_best_modes</code><span class="sig-paren">(</span><em>scale, num_tones, sort_order=['sum_p_q_for_all_intervals', 'sum_p_q', 'sum_distinct_intervals'], num_scales=1, metric_function=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pytuning.scale_creation.find_best_modes" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best modes for a scale, as defined by the specified
metrics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>scale</strong> &#8211; The scale to analyze</li>
<li><strong>num_tones</strong> &#8211; The number of degrees in the mode</li>
<li><strong>sort_order</strong> &#8211; How the return should be sorted, referenced
to the metrics calculated</li>
<li><strong>num_scales</strong> &#8211; The number of scales to return. If <code class="docutils literal"><span class="pre">None</span></code>
all scales will be returned</li>
<li><strong>metric_function</strong> &#8211; The metric function to use. If
<code class="docutils literal"><span class="pre">None</span></code> then <code class="docutils literal"><span class="pre">all_metrics</span></code> will be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A sorted list of mode objects.</p>
</td>
</tr>
</tbody>
</table>
<p>The sort order is a list of keys that the metric function
should return, applied in order, with an assumption that
the lower the metric the more consonant (and &#8220;better&#8221;) the
scale. As an example, the default sort order:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;sum_p_q_for_all_intervals&#39;</span><span class="p">,</span><span class="s1">&#39;sum_p_q&#39;</span><span class="p">,</span><span class="s1">&#39;sum_distinct_intervals&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Will order the scales by increasing <strong>sum_p_q_for_all_intervals</strong>. If two scales
have the same <strong>sum_p_q</strong> value they will be secondarily sorted
on <strong>sum_p_q</strong>. If scales have the same <strong>sum_p_q_for_all_intervals</strong> and <strong>sum_p_q</strong> then
<strong>sum_distinct_intervals</strong> will be used.</p>
<p>If no metric function is specified the default <code class="docutils literal"><span class="pre">all_metrics</span></code>
will be used. However, for efficiency one may not want to
calculate all metrics if they are not being used. For example,
if one is just interested in one metric, you can pass the metric
directly:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytuning</span> <span class="k">import</span> <span class="n">create_pythagorean_scale</span>
<span class="kn">from</span> <span class="nn">pytuning.metrics</span> <span class="k">import</span> <span class="n">sum_p_q_for_all_intervals</span>

<span class="n">pythag</span> <span class="o">=</span> <span class="n">create_pythagorean_scale</span><span class="p">()</span>
<span class="n">my_metric</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">sum_p_q</span><span class="p">(</span><span class="n">scale</span><span class="p">),</span> <span class="o">**</span><span class="n">sum_p_q_for_all_intervals</span><span class="p">(</span><span class="n">scale</span><span class="p">))</span>

<span class="n">best_modes</span> <span class="o">=</span> <span class="n">find_best_modes</span><span class="p">(</span><span class="n">pythag</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">sort_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sum_p_q_for_all_intervals&#39;</span><span class="p">],</span>
                <span class="n">num_scales</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">metric_function</span><span class="o">=</span><span class="n">sum_p_q_for_all_intervals</span><span class="p">)</span>
</pre></div>
</div>
<p>which would yield:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
  <span class="s1">&#39;original_scale&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
   <span class="mi">256</span><span class="o">/</span><span class="mi">243</span><span class="p">,</span>
   <span class="mi">9</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>
   <span class="mi">32</span><span class="o">/</span><span class="mi">27</span><span class="p">,</span>
   <span class="mi">81</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span>
   <span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span>
   <span class="mi">1024</span><span class="o">/</span><span class="mi">729</span><span class="p">,</span>
   <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
   <span class="mi">128</span><span class="o">/</span><span class="mi">81</span><span class="p">,</span>
   <span class="mi">27</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">16</span><span class="o">/</span><span class="mi">9</span><span class="p">,</span>
   <span class="mi">243</span><span class="o">/</span><span class="mi">128</span><span class="p">,</span>
   <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="o">/</span><span class="mi">243</span><span class="p">,</span> <span class="mi">32</span><span class="o">/</span><span class="mi">27</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1024</span><span class="o">/</span><span class="mi">729</span><span class="p">,</span> <span class="mi">128</span><span class="o">/</span><span class="mi">81</span><span class="p">,</span> <span class="mi">16</span><span class="o">/</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;steps&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;sum_p_q_for_all_intervals&#39;</span><span class="p">:</span> <span class="mi">4374</span><span class="p">}]</span>
</pre></div>
</div>
<p>If one is interested in two of the metrics, you could, for example:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytuning</span> <span class="k">import</span> <span class="n">create_pythagorean_scale</span>
<span class="kn">from</span> <span class="nn">pytuning.metrics</span> <span class="k">import</span> <span class="n">sum_p_q</span><span class="p">,</span> <span class="n">sum_p_q_for_all_intervals</span>

<span class="n">pythag</span> <span class="o">=</span> <span class="n">create_pythagorean_scale</span><span class="p">()</span>
<span class="n">my_metric</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">sum_p_q</span><span class="p">(</span><span class="n">scale</span><span class="p">),</span> <span class="o">**</span><span class="n">sum_p_q_for_all_intervals</span><span class="p">(</span><span class="n">scale</span><span class="p">))</span>

<span class="n">best_modes</span> <span class="o">=</span> <span class="n">find_best_modes</span><span class="p">(</span><span class="n">pythag</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">sort_order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sum_p_q&#39;</span><span class="p">,</span><span class="s1">&#39;sum_p_q_for_all_intervals&#39;</span><span class="p">],</span>
                <span class="n">num_scales</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">metric_function</span><span class="o">=</span><span class="n">my_metric</span><span class="p">)</span>
</pre></div>
</div>
<p>which would yield:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
  <span class="s1">&#39;original_scale&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
   <span class="mi">256</span><span class="o">/</span><span class="mi">243</span><span class="p">,</span>
   <span class="mi">9</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>
   <span class="mi">32</span><span class="o">/</span><span class="mi">27</span><span class="p">,</span>
   <span class="mi">81</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span>
   <span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span>
   <span class="mi">1024</span><span class="o">/</span><span class="mi">729</span><span class="p">,</span>
   <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
   <span class="mi">128</span><span class="o">/</span><span class="mi">81</span><span class="p">,</span>
   <span class="mi">27</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
   <span class="mi">16</span><span class="o">/</span><span class="mi">9</span><span class="p">,</span>
   <span class="mi">243</span><span class="o">/</span><span class="mi">128</span><span class="p">,</span>
   <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;scale&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="mi">32</span><span class="o">/</span><span class="mi">27</span><span class="p">,</span> <span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">27</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="o">/</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;steps&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="s1">&#39;sum_p_q&#39;</span><span class="p">:</span> <span class="mi">161</span><span class="p">,</span>
  <span class="s1">&#39;sum_p_q_for_all_intervals&#39;</span><span class="p">:</span> <span class="mi">4374</span><span class="p">}]</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="factoring-an-interval">
<h2>Factoring an Interval<a class="headerlink" href="#factoring-an-interval" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is interesting to take an interval and find an expression for that
interval over some set of generator intervals. For this the function
<code class="docutils literal"><span class="pre">find_factors()</span></code> is provided.</p>
<p>One has to specify the generator intervals. This is done by passing the function
a list of tuples. Each tuple has two members: The generator interval, and a
character representation of the generator interval. Usually these are a single,
unique character (such as <code class="docutils literal"><span class="pre">X</span></code>), but it can also be in the form <code class="docutils literal"><span class="pre">1/X</span></code>. If it
is in this form the generator interval should be the reciprocal of the interval
designated by <code class="docutils literal"><span class="pre">X</span></code>.</p>
<p>As an example, we could create a generator interval that represents the tone
and semi-tone of a 31-EDO scale:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">edo31_constructors</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">power</span><span class="o">.</span><span class="n">Pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">sp</span><span class="o">.</span><span class="n">Rational</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">31</span><span class="p">)),</span> <span class="s2">&quot;T&quot;</span><span class="p">),</span> <span class="c1"># a tone</span>
    <span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">power</span><span class="o">.</span><span class="n">Pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">sp</span><span class="o">.</span><span class="n">Rational</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">31</span><span class="p">)),</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span> <span class="c1"># a semitone</span>
<span class="p">]</span>
</pre></div>
</div>
<p>(Note that the tone is just twice the semitone, so we could probably get by with
just defining the semitone).</p>
<p>Now we can define an <code class="docutils literal"><span class="pre">interval</span></code>, say, one of the intervals of the Pythagorean
scale:</p>
<div class="math">
<p><img src="_images/math/1150764db308de24bf0456564aa4e325d8a3abe8.png" alt="\frac{21}{16}"/></p>
</div><p>and see what factoring yields an interval closest to the original.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">find_factors</span><span class="p">(</span><span class="n">interval</span><span class="p">,</span> <span class="n">edo31_constructors</span><span class="p">)</span>
<span class="n">results</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">results</span></code> now contains the factoring, the factoring in symbolic terms, and
the resultant interval.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">([</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">31</span><span class="p">),</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">31</span><span class="p">),</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">31</span><span class="p">),</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">31</span><span class="p">),</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">31</span><span class="p">),</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">31</span><span class="p">)],</span>
 <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">],</span>
 <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">12</span><span class="o">/</span><span class="mi">31</span><span class="p">))</span>
</pre></div>
</div>
<p>The last entry is the returned interval:</p>
<div class="math">
<p><img src="_images/math/474e83ee93c48231f78880f03b2f41031d84cc5f.png" alt="2^{\frac{12}{31}}"/></p>
</div><p>If one is interested in seeing how closely the factored interval matches the
original interval, the <code class="docutils literal"><span class="pre">ratio_to_cents()</span></code> function in <code class="docutils literal"><span class="pre">pytuning.utiities</span></code> can
be used.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytuning.utilities</span> <span class="k">import</span> <span class="n">ratio_to_cents</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ratio_to_cents</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="n">interval</span><span class="p">))</span>
</pre></div>
</div>
<p>yields:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mf">6.26477830225428</span>
</pre></div>
</div>
<p>In other words, the derived interval is flat about 6.3 cents from the target
interval.</p>
<dl class="function">
<dt>
<code class="descclassname">pytuning.utilities.</code><code class="descname">ratio_to_cents</code><span class="sig-paren">(</span><em>ratio</em><span class="sig-paren">)</span></dt>
<dd><p>Convert a scale degree to a cent value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ratio</strong> &#8211; The scale degree (<code class="docutils literal"><span class="pre">sympy</span></code> value)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The scale degree in cents</td>
</tr>
</tbody>
</table>
<p>Calculates:</p>
<div class="math">
<p><img src="_images/math/76eab82a5a3f914f2a16757f28d853df7ef723c8.png" alt="\sqrt[2^{\left[ \frac{1}{1200} \right]}]{\text{degree}}"/></p>
</div><p>Note that this function returns a floating point number,
not a <code class="docutils literal"><span class="pre">sympy</span></code> ratio.</p>
</dd></dl>

</div>
<div class="section" id="approximating-a-scale-with-another-scale">
<h2>Approximating a Scale with Another Scale<a class="headerlink" href="#approximating-a-scale-with-another-scale" title="Permalink to this headline">¶</a></h2>
<p>The above factoring of an interval over a set of generators can be extended: a
scale can be factored too.</p>
<p>To do this the <code class="docutils literal"><span class="pre">create_scale_from_scale()</span></code> function is used.</p>
<p>The first step in using this function is to create an interval function. It is
similar to <code class="docutils literal"><span class="pre">find_factors()</span></code> in that it accepts an interval and a max factor, and
it returns the factor. But the actual generator intervals are bound to this function.</p>
<p>The easiest way of creating this function is to take the generator intervals
that you&#8217;re interested in and to bind them to <code class="docutils literal"><span class="pre">find_factors()</span></code> via a partial
function application. As an example, we can take the five-limit constructors:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">five_limit_constructors</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">Rational</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="s2">&quot;s&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">Rational</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span>  <span class="s2">&quot;t&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">Rational</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>   <span class="s2">&quot;T&quot;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>And use them to approximate the Pythagorean scale:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytuning.scales</span> <span class="k">import</span> <span class="n">create_pythagorean_scale</span>
<span class="kn">from</span> <span class="nn">pytuning.scale_creation</span> <span class="k">import</span> <span class="n">create_scale_from_scale</span><span class="p">,</span> <span class="n">find_factors</span>
<span class="kn">from</span> <span class="nn">pytuning.constants</span> <span class="k">import</span> <span class="n">five_limit_constructors</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">partial</span>

<span class="n">interval_function</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">find_factors</span><span class="p">,</span> <span class="n">constructors</span><span class="o">=</span><span class="n">five_limit_constructors</span><span class="p">)</span>
<span class="n">pythag</span> <span class="o">=</span> <span class="n">create_pythagorean_scale</span><span class="p">()</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">create_scale_from_scale</span><span class="p">(</span><span class="n">pythag</span><span class="p">,</span> <span class="n">interval_function</span><span class="p">)</span>
</pre></div>
</div>
<p>The return value is a tuple, the first element of which is derived scale, the
second of which is the symbolic factoring. The scale which was found was</p>
<div class="math">
<p><img src="_images/math/d53287a8fbb7990c0f09413922c256828f6a8b9b.png" alt="\left [ 1, \quad \frac{16}{15}, \quad \frac{9}{8}, \quad \frac{32}{27},
\quad \frac{81}{64}, \quad \frac{4}{3}, \quad \frac{1024}{729},
\quad \frac{3}{2}, \quad \frac{128}{81}, \quad \frac{27}{16},
\quad \frac{16}{9}, \quad \frac{243}{128}, \quad 2\right ]"/></p>
</div><p>If you look at the Pythagorean scale:</p>
<div class="math">
<p><img src="_images/math/08e1276f37fca319bab289ced30d414f552f4cc4.png" alt="\left [ 1, \quad \frac{256}{243}, \quad \frac{9}{8}, \quad
\frac{32}{27}, \quad \frac{81}{64}, \quad \frac{4}{3},
\quad \frac{1024}{729}, \quad \frac{3}{2},
\quad \frac{128}{81}, \quad \frac{27}{16},
\quad \frac{16}{9}, \quad \frac{243}{128}, \quad 2\right ]"/></p>
</div><p>you can see that they only differ in the second degree (which if we look at
the first member of the return we can see is factored as [&#8216;s&#8217;]). Looking at how
much they differ:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ratio</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">pythag</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="mi">81</span><span class="o">/</span><span class="mi">80</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ratio_to_name</span><span class="p">(</span><span class="n">ratio</span><span class="p">))</span>
<span class="n">Syntonic</span> <span class="n">Comma</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">ratio_to_cents</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
<span class="mf">21.5062895967149</span>
</pre></div>
</div>
<p>we see that the difference is <img class="math" src="_images/math/c465df235080f08b5415024c2fb11aa3bfbeb131.png" alt="\frac{81}{80}"/>, which is the syntonic comma
(about 21.5 cents).</p>
<p><code class="docutils literal"><span class="pre">create_scale_from_scale()</span></code> can also accept a <code class="docutils literal"><span class="pre">tone_table</span></code> which is a list
of the potential breakdowns that can be used in the analysis.</p>
<dl class="function">
<dt id="pytuning.scale_creation.create_scale_from_scale">
<code class="descclassname">pytuning.scale_creation.</code><code class="descname">create_scale_from_scale</code><span class="sig-paren">(</span><em>scale</em>, <em>interval_function</em>, <em>max_terms=8</em>, <em>tone_table=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pytuning.scale_creation.create_scale_from_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a target scale, calculate the closest matching N-rank
linear temperament scale over the provide basis functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>scale</strong> &#8211; The target scale (list or ratios)</li>
<li><strong>interval_function</strong> &#8211; The interval function (see below)</li>
<li><strong>max_terms</strong> &#8211; The maximum number of terms for the factoring
along the basis intervals</li>
<li><strong>tone_table</strong> &#8211; A constrained tone table (see below)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tuple, the first member of which is a list
of the derived scale values, and the second of which is
a symbolic representation of the factoring found.</p>
</td>
</tr>
</tbody>
</table>
<p>The interval function is a function that accepts a degree and
<code class="docutils literal"><span class="pre">max_terms</span></code> and returns the breakdown in the same format
as <code class="docutils literal"><span class="pre">find_factors</span></code>. In general the easiest way to create this
function is thought a partial function application of
<code class="docutils literal"><span class="pre">find_factors</span></code> and the specific constructors wanted.
As an example, to create a function that will approimate a scale
with the five-limit constructors:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytuning.scale_creation</span> <span class="k">import</span> <span class="n">find_factors</span><span class="p">,</span> <span class="n">create_scale_from_scale</span>
<span class="kn">from</span> <span class="nn">pytuning.constants</span> <span class="k">import</span> <span class="n">five_limit_constructors</span>
<span class="kn">import</span> <span class="nn">functools</span>

<span class="n">find_five_limit_interval</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
    <span class="n">find_factors</span><span class="p">,</span> <span class="n">constructors</span><span class="o">=</span><span class="n">five_limit_constructors</span><span class="p">,</span>
    <span class="n">max_terms</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    
<span class="n">create_five_limit_scale_from_scale</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">create_scale_from_scale</span><span class="p">,</span> 
                            <span class="n">interval_function</span><span class="o">=</span><span class="n">find_five_limit_interval</span><span class="p">)</span>
</pre></div>
</div>
<p>if <code class="docutils literal"><span class="pre">tone_table</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the code will perform the factoring
with up to <code class="docutils literal"><span class="pre">max_terms</span></code>. If the tone table is defined only the
intervals defined in this table will be used.</p>
<p>The tone table is formatted as a list of tuples, where the members of each
tuple are the degree name (<code class="docutils literal"><span class="pre">String</span></code>), the interval composition
(a list of characters taken from the symbolic portion of
the constructors), and the value of that factoring. As an
example, the tone table that matches published values
for the Lucy-tuned scale begins:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="mi">1</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">],</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">pi</span><span class="p">))),</span>
 <span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))),</span>
 <span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">],</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">pi</span><span class="p">))),</span>
 <span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">pi</span><span class="p">)),</span>
 <span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">],</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">pi</span><span class="p">))),</span>
 <span class="p">(</span><span class="s1">&#39;#4&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;L&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="o">**</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))),</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>(The last member of the tuple is a <code class="docutils literal"><span class="pre">sympy</span></code> symbolic value.)</p>
<p>With the tone table, the code will return the defined tone
which most closely matches the target degree.</p>
<p>Extending the above example, if we were to try to match
a Pythagorean scale with an unconstrained factoring of the
Five-limit intervals (i.e., with no tone table):</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">pythag</span> <span class="o">=</span> <span class="n">create_pythagorean_scale</span><span class="p">()</span>
<span class="n">lp</span> <span class="o">=</span> <span class="n">create_five_limit_scale_from_scale</span><span class="p">(</span><span class="n">pythag</span><span class="p">)</span>
</pre></div>
</div>
<p>yields</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="p">([</span><span class="mi">1</span><span class="p">,</span>
  <span class="mi">16</span><span class="o">/</span><span class="mi">15</span><span class="p">,</span>
  <span class="mi">9</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span>
  <span class="mi">32</span><span class="o">/</span><span class="mi">27</span><span class="p">,</span>
  <span class="mi">81</span><span class="o">/</span><span class="mi">64</span><span class="p">,</span>
  <span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span>
  <span class="mi">1024</span><span class="o">/</span><span class="mi">729</span><span class="p">,</span>
  <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
  <span class="mi">128</span><span class="o">/</span><span class="mi">81</span><span class="p">,</span>
  <span class="mi">27</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span>
  <span class="mi">16</span><span class="o">/</span><span class="mi">9</span><span class="p">,</span>
  <span class="mi">243</span><span class="o">/</span><span class="mi">128</span><span class="p">,</span>
  <span class="mi">2</span><span class="p">],</span>
 <span class="p">[[],</span>
  <span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span>
  <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</dd></dl>

<p>Note that the first entry of the factors is always for the ratio 1, and is returned
as an empty list (as there really <em>are</em> no factors in this sense).</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tables.html" class="btn btn-neutral float-right" title="Tuning Tables" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="metrics.html" class="btn btn-neutral" title="Metric Functions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mark Conway Wirt.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>